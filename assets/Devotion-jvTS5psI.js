import{c as y,u as K,r,j as e,a as _,d as p,C as q,b as J}from"./index-BgenSf1I.js";import{b as Q}from"./geminiService-C5glO8G0.js";import{s as U}from"./supabaseClient-Cz1ETm7S.js";import{D as Z,a as X}from"./dailyVerseService-B-LrFqdB.js";import{A as ee}from"./arrow-left-D3c5g9VX.js";import{H as $}from"./heart-Dydosvbl.js";import{F as P}from"./funnel-BUgX8Yd2.js";import{B as G}from"./book-open-BBJSTkJm.js";import{S as H}from"./sparkles-Bk1v75TG.js";import{S as te}from"./save-vBAa8MGd.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]],V=y("leaf",ae);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],re=y("moon",se);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],oe=y("snowflake",le);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],f=y("sun",ne),b={seasons:[{id:"EPIPHANY",name:"Epiphany",icon:f,color:"text-yellow-600",bg:"bg-yellow-50"},{id:"LENT",name:"Lent",icon:re,color:"text-purple-600",bg:"bg-purple-50"},{id:"HOLY_WEEK",name:"Holy Week",icon:G,color:"text-red-800",bg:"bg-red-50"},{id:"EASTER",name:"Easter Season",icon:f,color:"text-yellow-500",bg:"bg-yellow-100"},{id:"PENTECOST",name:"Pentecost",icon:H,color:"text-red-500",bg:"bg-orange-50"},{id:"ORDINARY_TIME",name:"Ordinary Time",icon:V,color:"text-green-600",bg:"bg-green-50"},{id:"ADVENT",name:"Advent",icon:oe,color:"text-blue-600",bg:"bg-blue-50"},{id:"CHRISTMAS",name:"Christmas Season",icon:ie,color:"text-yellow-400",bg:"bg-slate-800"}],specialDays:[{date:"2026-01-01",scripture:"Psalm 90:12",theme:"Number Our Days",seasonId:"ORDINARY_TIME",calendarTag:"New Year’s Day",importance:"special"},{date:"2026-02-18",scripture:"Joel 2:12-13",theme:"Return to Me",seasonId:"LENT",calendarTag:"Ash Wednesday",importance:"major"},{date:"2026-03-29",scripture:"Matthew 21:1-11",theme:"Welcoming the King",seasonId:"HOLY_WEEK",calendarTag:"Palm Sunday",importance:"major"},{date:"2026-04-03",scripture:"Isaiah 53:4-6",theme:"The Suffering Servant",seasonId:"HOLY_WEEK",calendarTag:"Good Friday",importance:"major"},{date:"2026-04-05",scripture:"Matthew 28:5-6",theme:"He Is Risen",seasonId:"EASTER",calendarTag:"Resurrection Sunday",importance:"major"},{date:"2026-12-25",scripture:"Luke 2:10-11",theme:"Good News of Great Joy",seasonId:"CHRISTMAS",calendarTag:"Christmas Day",importance:"major"}]};function ie(d){return e.jsx(H,{...d})}const ye=()=>{const d=K(),[o,Y]=r.useState("today"),[x,w]=r.useState("flash"),[h,F]=r.useState(new Date().toISOString().split("T")[0]),[c,k]=r.useState(null),[g,S]=r.useState(""),[s,j]=r.useState(null),[u,I]=r.useState(!1),[D,T]=r.useState(!1),[i,C]=r.useState(null),[W,E]=r.useState(!1);r.useEffect(()=>{if(d.state&&d.state.autoGenerate){const{scripture:t,theme:a}=d.state;m({scripture:t,theme:a,date:new Date().toISOString().split("T")[0],seasonId:"ORDINARY_TIME"})}},[d.state]);const N=new Date().toISOString().split("T")[0],l=r.useMemo(()=>{const t=o==="today"?N:h,a=b.specialDays.find(n=>n.date===t);if(a)return a;if(o==="today"||o==="date"){const n=Z.verseForDate(new Date(t));return{date:t,scripture:n,theme:"Verse of the Day",seasonId:"ORDINARY_TIME",calendarTag:"Daily Word",importance:"normal"}}return null},[o,h,N]);r.useEffect(()=>{l&&l.scripture?(async()=>{E(!0);const a=await X(l.scripture);C(a),E(!1)})():C(null)},[l]);const R=r.useMemo(()=>c?b.specialDays.filter(t=>t.seasonId===c):[],[c]),M=t=>b.seasons.find(a=>a.id===t),m=async(t={})=>{I(!0);let a={...t};!a.scripture&&!a.theme&&(l?a={...l}:g?(a.topic=g,a.seasonId="ORDINARY_TIME"):(a.date=o==="today"?N:h,a.seasonId=c||"ORDINARY_TIME"));const n=await Q();n?(j(n),w("full")):alert("Could not generate devotion. Please check your API key or try again."),I(!1)},B=async()=>{if(!s)return;T(!0);const t=`SCRIPTURE DEVOTION
Date: ${s.date}
Title: ${s.title}

Scripture:
${s.scripture}

Reflection:
${s.content}

Question: ${s.reflectionQuestion}

Prayer:
${s.prayer}`,{error:a}=await U.from("ideas").insert([{idea_date:new Date().toISOString().split("T")[0],place:"Devotional Generator",note:t}]);T(!1),alert(a?"Failed to save.":"Saved to your Ideas Journal!")},L=()=>{w("flash")},O=t=>{const a=M(t.seasonId),n=(a==null?void 0:a.icon)||V,A=i==null?void 0:i.image_url,v=!!A,z=(a==null?void 0:a.id)==="CHRISTMAS"||(a==null?void 0:a.id)==="ADVENT"?"bg-gradient-to-br from-slate-800 to-slate-900 text-white":"bg-white text-gray-900";return e.jsxs("div",{className:`relative rounded-2xl shadow-xl overflow-hidden transform transition-all duration-500 hover:shadow-2xl ${v?"text-white":z} min-h-[400px] flex flex-col`,children:[v?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-1000 hover:scale-105",style:{backgroundImage:`url(${A})`}}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-black/30"})]}):e.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1507692049790-de58293a469d?q=80&w=2670&auto=format&fit=crop')] bg-cover bg-center opacity-10 mix-blend-overlay"}),e.jsxs("div",{className:"relative z-10 flex-1 flex flex-col p-8 md:p-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8",children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-70 mb-1",children:"Date"}),e.jsx("span",{className:"text-xl font-bold font-serif",children:new Date(t.date).toLocaleDateString()})]}),t.calendarTag&&e.jsx("div",{className:"px-4 py-1.5 rounded-full text-xs font-bold uppercase tracking-wider backdrop-blur-sm bg-black/20 text-white border border-white/20",children:t.calendarTag})]}),e.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-6 text-center",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-xs font-bold uppercase tracking-widest opacity-70 mb-2 block",children:"Verse of the Day"}),e.jsx("h2",{className:"text-3xl md:text-5xl font-serif font-bold leading-tight",children:t.scripture})]}),e.jsx("div",{className:"w-16 h-1 bg-current mx-auto opacity-30 rounded-full"}),e.jsx("div",{children:W?e.jsx("div",{className:"flex justify-center",children:e.jsx(p,{className:"w-6 h-6 animate-spin opacity-50"})}):i!=null&&i.text?e.jsxs("p",{className:"text-lg md:text-xl font-medium opacity-90 leading-relaxed max-w-2xl mx-auto",children:['"',i.text,'"']}):e.jsx("p",{className:"text-sm opacity-60 italic",children:"Verse text unavailable. Click below to read devotion."})})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-current/10 text-center",children:[e.jsxs("button",{onClick:()=>m(t),disabled:u,className:`inline-flex items-center gap-2 px-8 py-4 rounded-xl font-bold text-lg transition-transform active:scale-95 shadow-lg ${v?"bg-white/20 backdrop-blur-md hover:bg-white/30 text-white border border-white/30":"bg-primary text-white hover:bg-blue-600"}`,children:[u?e.jsx(p,{className:"animate-spin w-5 h-5"}):e.jsx(G,{className:"w-5 h-5"}),"Read Full Devotion"]}),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 opacity-60 text-sm",children:[e.jsx(n,{className:"w-4 h-4"}),e.jsx("span",{children:a==null?void 0:a.name})]})]})]})]})};return e.jsxs("div",{className:"max-w-4xl mx-auto space-y-6 animate-fade-in pb-16",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 pt-4 border-b border-gray-200 pb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[x==="full"&&e.jsx("button",{onClick:L,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(ee,{className:"w-6 h-6 text-gray-600"})}),e.jsx("div",{children:e.jsxs("h1",{className:"text-4xl font-bold text-gray-800 flex items-center gap-3",children:[e.jsx($,{className:"w-10 h-10 text-red-500 fill-red-50"}),"Scripture Devotion"]})})]}),x==="flash"&&e.jsx("div",{className:"flex bg-gray-100 p-1 rounded-lg self-start md:self-auto",children:[{id:"today",label:"Today",icon:f},{id:"date",label:"Pick Date",icon:_},{id:"season",label:"Season",icon:P}].map(t=>e.jsxs("button",{onClick:()=>{Y(t.id),j(null),S("")},className:`flex items-center gap-2 px-4 py-2 rounded-md text-sm font-medium transition-all ${o===t.id?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:[e.jsx(t.icon,{className:"w-4 h-4"}),t.label]},t.id))})]}),x==="flash"&&e.jsxs("div",{className:"animate-fade-in",children:[o==="today"&&(l?O(l):e.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 rounded-2xl p-10 text-center border border-blue-100 min-h-[300px] flex flex-col justify-center",children:[e.jsx(f,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Open Devotion"}),e.jsx("p",{className:"text-gray-600 mb-8 max-w-lg mx-auto",children:"Enter a topic to generate a fresh devotion."}),e.jsxs("div",{className:"max-w-md mx-auto relative w-full",children:[e.jsx("input",{type:"text",placeholder:"e.g. Grace, Psalm 23...",className:"w-full pl-4 pr-32 py-4 rounded-xl border-0 shadow-md focus:ring-2 focus:ring-blue-500",value:g,onChange:t=>S(t.target.value)}),e.jsx("button",{onClick:()=>m(),disabled:!g&&!u,className:"absolute right-2 top-2 bottom-2 bg-blue-600 text-white px-4 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:bg-gray-400",children:u?e.jsx(p,{className:"animate-spin"}):"Generate"})]})]})),o==="date"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex items-center gap-4",children:[e.jsx(_,{className:"w-6 h-6 text-gray-400"}),e.jsx("input",{type:"date",value:h,onChange:t=>{F(t.target.value),j(null)},className:"flex-1 text-lg border-none focus:ring-0 text-gray-700 font-medium"})]}),l?O(l):e.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-xl border border-dashed border-gray-300",children:[e.jsx("p",{className:"text-gray-500 mb-4",children:"No scheduled plan for this date."}),e.jsx("button",{onClick:()=>m(),className:"px-6 py-3 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 font-medium shadow-sm",children:"Generate Standard Devotion"})]})]}),o==="season"&&e.jsx("div",{children:c?e.jsxs("div",{children:[e.jsx("button",{onClick:()=>k(null),className:"mb-6 flex items-center text-sm text-gray-500 hover:text-gray-800",children:"← Back to Seasons"}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:(()=>{const t=M(c),a=(t==null?void 0:t.icon)||P;return e.jsxs(e.Fragment,{children:[e.jsx(a,{className:`w-6 h-6 ${t==null?void 0:t.color}`})," ",t==null?void 0:t.name]})})()}),e.jsx("div",{className:"grid gap-4",children:R.length>0?R.map((t,a)=>e.jsxs("div",{className:"bg-white p-6 rounded-xl shadow-sm border border-gray-100 flex justify-between items-center group hover:border-blue-200 transition-colors",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase mb-1",children:new Date(t.date).toLocaleDateString()}),e.jsx("h3",{className:"text-lg font-bold text-gray-800",children:t.theme}),e.jsx("p",{className:"text-gray-500 text-sm",children:t.scripture})]}),e.jsx("button",{onClick:()=>m(t),className:"w-10 h-10 rounded-full bg-gray-50 flex items-center justify-center text-gray-400 group-hover:bg-blue-600 group-hover:text-white transition-all",children:e.jsx(q,{className:"w-5 h-5"})})]},a)):e.jsx("div",{className:"text-center py-10 text-gray-500 italic",children:"No specific plans listed for this season yet."})})]}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:b.seasons.map(t=>e.jsxs("button",{onClick:()=>k(t.id),className:`p-6 rounded-xl border text-left transition-all hover:shadow-md ${t.bg} border-transparent hover:border-gray-200`,children:[e.jsx(t.icon,{className:`w-8 h-8 ${t.color} mb-3`}),e.jsx("h3",{className:`font-bold text-lg ${t.color}`,children:t.name}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Select to view plans"})]},t.id))})})]}),x==="full"&&s&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden animate-fade-in ring-1 ring-black/5",children:[e.jsxs("div",{className:"bg-gradient-to-b from-white to-gray-50 p-8 md:p-12",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("span",{className:"inline-block mb-3 text-xs font-bold tracking-widest text-gray-400 uppercase",children:s.calendarTag||s.seasonId||s.date}),e.jsx("h1",{className:"text-3xl md:text-4xl font-serif font-bold text-gray-900 mb-6 leading-tight",children:s.title}),e.jsx("div",{className:"w-16 h-1 bg-red-500 mx-auto rounded-full"})]}),e.jsx("div",{className:"bg-red-50/50 border-l-4 border-red-500 p-6 my-8 rounded-r-lg",children:e.jsxs("p",{className:"font-serif text-xl md:text-2xl text-red-900 italic leading-relaxed",children:['"',s.scripture,'"']})}),e.jsx("div",{className:"prose prose-lg prose-headings:font-serif prose-headings:font-bold prose-p:text-gray-700 prose-p:leading-relaxed max-w-none",children:e.jsx("div",{className:"whitespace-pre-wrap",children:s.content})}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mt-12",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border border-blue-100 relative",children:[e.jsx("div",{className:"absolute -top-3 -left-3 bg-white p-2 rounded-full border border-blue-100 shadow-sm",children:e.jsx(J,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h3",{className:"font-bold text-blue-900 mb-2 ml-2",children:"Reflection"}),e.jsx("p",{className:"text-blue-800 italic leading-relaxed",children:s.reflectionQuestion})]}),e.jsxs("div",{className:"bg-gray-50 p-6 rounded-xl border border-gray-200 relative",children:[e.jsx("div",{className:"absolute -top-3 -left-3 bg-white p-2 rounded-full border border-gray-200 shadow-sm",children:e.jsx($,{className:"w-5 h-5 text-red-500"})}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2 ml-2",children:"Prayer"}),e.jsx("p",{className:"text-gray-700 font-serif leading-relaxed",children:s.prayer})]})]})]}),e.jsxs("div",{className:"bg-gray-50 px-8 py-4 flex flex-col sm:flex-row justify-between items-center border-t border-gray-100 gap-4",children:[e.jsx("span",{className:"text-sm text-gray-400 italic",children:"Generated by Ministry Manager AI"}),e.jsxs("div",{className:"flex gap-3 w-full sm:w-auto",children:[e.jsx("button",{onClick:L,className:"flex-1 sm:flex-none px-6 py-3 border border-gray-300 bg-white rounded-lg text-gray-700 hover:bg-gray-50 font-medium",children:"Close"}),e.jsxs("button",{onClick:B,disabled:D,className:"flex-1 sm:flex-none flex items-center justify-center gap-2 px-6 py-3 bg-gray-900 text-white rounded-lg hover:bg-black font-medium shadow-sm transition-colors",children:[D?e.jsx(p,{className:"w-4 h-4 animate-spin"}):e.jsx(te,{className:"w-4 h-4"}),"Save"]})]})]})]})]})};export{ye as default};
